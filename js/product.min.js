function log(e){klog(e)}function klog(e){}var currentSubMenu,popupOpened,liveDemoMode,parser=new DOMParser;try{var postOptions={transformRequest:angular.identity,headers:{"Content-Type":void 0}}}catch(e){}function findAncestor(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}function getElementsByAttribute(e,t,n,o){for(var a,r,i="*"==t&&e.all?e.all:e.getElementsByTagName(t),s=new Array,c=void 0!==o?new RegExp("(^|\\s)"+o+"(\\s|$)","i"):null,l=0;l<i.length;l++)"string"==typeof(r=(a=i[l]).getAttribute&&a.getAttribute(n))&&r.length>0&&(void 0===o||c&&c.test(r))&&s.push(a);return s}function getFormData(e){var t=new FormData;for(var n in e)e[n]&&t.append(n,e[n]);return t}function clone(e){if(null==e||"object"!=typeof e)return e;try{var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=clone(e[n]));return t}catch(t){return e}}function createElement(e,t){t||(t={});var n=document.createElement(e);return t.id&&n.setAttribute("id",t.id),t.class&&n.setAttribute("class",t.class),n}function toggleClass(e,t){-1==e.className.indexOf(t)?addClass(e,t):removeClass(e,t)}function addRemoveClass(e,t,n){var o=e.className,a=!0;if(t)for(var r=0;r<t.length;r++)-1==o.indexOf(t[r])&&(a=!1,o+=(""==o?"":" ")+t[r]);if(n)for(r=0;r<n.length;r++)o.indexOf(n[r])>=0&&(a=!1,o=o.replace(n[r],""));a||(e.className=o.trim())}function addClass(e,t){if(e){var n="";if(e.className&&(n=e.className.trim()),t instanceof Array){for(var o=!0,a=0;a<t.length;a++)-1==n.indexOf(t[a])&&(o=!1,n+=(""==n?"":" ")+t[a]);if(o)return}else{if(n.indexOf(t)>=0)return;n+=(""==n?"":" ")+t}e.className=n}}function removeClass(e,t){var n=e.className;if(n&&""!=n.trim()){if(t instanceof Array){for(var o=!0,a=0;a<t.length;a++)n.indexOf(t[a])>=0&&(o=!1,n=n.replace(t[a],""));if(o)return}else{if(-1==n.indexOf(t))return;n=n.replace(t,"")}""==(n=n.trim())?e.removeAttribute("class"):e.className=n}}function getClassThatStartsWith(e,t){for(var n=e.className.trim().split(" "),o=0;o<n.length;o++)if(n[o].indexOf(t)>-1)return n[o]}function hasClass(e,t){if(e&&e.className)return e.className.indexOf(t)>=0}function saveAffiliate(){var e=location.search;if(e||(e=""),e=(e=e.replace(/\?/g,"")).replace(/\//g,""),!localStorage.kotobeeAff){var t=e.split("=");"aff"==t[0]&&(localStorage.kotobeeAff=JSON.stringify({code:t[1],date:Date.now()}))}}function getAffiliateCode(){var e=localStorage.kotobeeAff;if(e){if("{"==e[0]){try{var t=JSON.parse(e)}catch(e){return}if(Math.floor((Date.now()-t.date)/86400)>90)return void delete localStorage.kotobeeAff;e=t.code}else localStorage.kotobeeAff=JSON.stringify({code:e,date:Date.now()});return e}}function getRef(){var e=location.hash;e||(e=""),e=(e=e.replace(/#/g,"")).replace(/\//g,"");var t=new Date,n=localStorage.kotobeeRef;try{n=JSON.parse(n)}catch(e){n=[]}var o,a=e.split("=");if("ref"==a[0]){o=!0;for(var r=0;r<n.length;r++)if(n[r].ref==a[1])return s();(i={}).ref=a[1],i.date=t.getHours()+":"+t.getMinutes()+" "+t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear(),n.push(i),localStorage.kotobeeRef=JSON.stringify(n)}else{var i;if(!n.length)(i={ref:""}).date=t.getHours()+":"+t.getMinutes()+" "+t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear(),n.push(i),localStorage.kotobeeRef=JSON.stringify(n)}function s(){o&&history.replaceState(null,null,window.location.href.replace(location.hash,"")),c()}function c(){if("complete"!=document.readyState)return setTimeout(c,1e3);var e=document.getElementsByTagName("a");if(localStorage.kotobeeRef)for(var t=0;t<e.length;t++){var n=e[t].getAttribute("href");n&&n.indexOf("/download/")>=0&&e[t].setAttribute("href",n+"?ref="+encodeURIComponent(localStorage.kotobeeRef))}}s()}function hide(e){e.style.setProperty("display","none","important")}function show(e){e.style.removeProperty("display")}function getUrlVars(){for(var e,t=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),o=0;o<n.length;o++)e=n[o].split("="),t.push(e[0]),t[e[0]]=e[1];return t}function toggleVisibility(e){"none"==e.style.display?show(e):hide(e)}function setupLazyLoad(){for(var e=new IntersectionObserver((function(e){for(var t=0;t<e.length;t++)if(e[t].isIntersecting){var n=e[t].target;n.hasAttribute("data-src")&&!n.hasAttribute("src")&&n.setAttribute("src",n.getAttribute("data-src"))}}),{threshold:[0],rootMargin:"90px"}),t=new IntersectionObserver((function(e){for(var t=0;t<e.length;t++){if(e[t].isIntersecting)removeClass(e[t].target,"lazyLoad")}}),{threshold:[0],rootMargin:"90px"}),n=document.getElementsByTagName("img"),o=0;o<n.length;o++)e.observe(n[o]);var a=document.getElementsByClassName("lazyLoad");for(o=a.length;o--;)t.observe(a[o])}function init(){setupTracking(),gAdsConversion(),getRef(),saveAffiliate(),detectOS(),displayTemplates(),hideMobileMenus(),setupClickEvents(),setupVueComponents(),showAnnouncementPopups(),renderSubscribeForms(),handleLivedemoLink(),initSSO_SDK(),handleNewsletter(),initHotjar(),initTawk(),scrollCarouselFun()}function isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function setupTracking(){function e(){var e,t,n,o,a,r;loadScript("https://www.googletagmanager.com/gtag/js?id=G-PZCXGVW3ZB"),window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},gtag("js",new Date),gtag("config","G-PZCXGVW3ZB"),gtag("config","UA-49530404-1"),gtag("config","AW-701190598"),e=window,t=document,n="script",e.fbq||(o=e.fbq=function(){o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)},e._fbq||(e._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[],(a=t.createElement(n)).async=!0,a.src="//connect.facebook.net/en_US/fbevents.js",(r=t.getElementsByTagName(n)[0]).parentNode.insertBefore(a,r)),fbq("init","597011190465103"),fbq("track","PageView"),fbq("track","ViewContent")}isMobile()?window.addEventListener("load",(function(){setTimeout(e,1e3)})):e()}function loadScript(e,t){var n=document.createElement("script");n.src=e,t&&n.addEventListener("load",t),document.body.appendChild(n)}function gAdsConversion(){try{gtag("event","conversion",{send_to:"AW-701190598/p1FRCODf3c8CEMajrc4C"})}catch(e){}}function handleLivedemoLink(){document.addEventListener("click",(function(e){var t=e.target;if(t.classList.contains("scheduleDemoBtn"))(n=findAncestor(t,"mobileMenu"))&&hide(n),showLivedemoPopup({type:"demo"}),e.preventDefault();else if(t.classList.contains("scheduleMeetingBtn")){var n;(n=findAncestor(t,"mobileMenu"))&&hide(n),showLivedemoPopup({type:"meeting"}),e.preventDefault()}}));var e=document.querySelector(".popupCloseBtn");e&&(e.addEventListener("click",(function(e){e.preventDefault(),hide(document.getElementById("livedemoPopup"))})),document.addEventListener("change",(function(e){var t=e.target;"inputLang"==t.id&&showLivedemoPopup({lang:t.value,keepType:!0})})),document.addEventListener("click",(function(e){var t=e.target;t.classList.contains("agentBtn")&&(showLivedemoPopup({agent:t.getAttribute("data-agent"),lang:document.getElementById("inputLang").value,keepType:!0}),e.preventDefault())}))),window.randAgent=Math.random()>.5?"ziad":"nadeen"}function getWebsiteLang(){var e="en";return 0==window.location.pathname.indexOf("/es")?e="es":0==window.location.pathname.indexOf("/fr")?e="fr":0==window.location.pathname.indexOf("/ar")&&(e="ar"),e}function showLivedemoPopup(e){e||(e={}),window.currentLivedemoOptions=e;var t=e.lang;t||(t=getWebsiteLang()),"fr"==t&&(t="en");var n=document.getElementById("agentBtnContainer");if(n){n.className="",n.classList.add("_"+t);var o=Math.random()>.5?"ziad":"nadeen";window.randAgent&&(o=window.randAgent);var a,r=e.agent;if(!r)for(var i=n.getElementsByClassName("btn"),s=0;s<i.length;s++)if("none"!=getComputedStyle(i[s]).display){var c=i[s].getAttribute("data-agent");a||(a=c),c==o&&(r=o)}r||(r=a),-1!=window.location.search.indexOf("&ziad")&&(r="ziad"),-1!=window.location.search.indexOf("&nadeen")&&(r="nadeen"),log("agent:",r),function(e){for(var n=document.getElementById("agentBtnContainer").getElementsByClassName("btn"),o=0;o<n.length;o++)n[o].classList.contains("active")&&n[o].classList.remove("active");for(o=0;o<n.length;o++)if(n[o].classList.contains("_"+t)&&e==n[o].getAttribute("data-agent"))return void n[o].classList.add("active")}(r),function(t,n){document.getElementById("inputLang").value=n;var o=document.getElementById("livedemoPopup");o.style.display="block",e.keepType||(o.className="meeting"==e.type?"meeting":"demo");var a=document.getElementById("liveDemoFrame").getElementsByTagName("iframe")[0];a.style.opacity=0,a.onload=function(){a.style.opacity=1},setTimeout((function(){a.style.opacity=1}),6e3),a.src=t,a.style.opacity=0}(function(e,t){var n,o,a=getWebsiteLang();"fr"==a&&(a="en");n="https://calendly.com/kotobee-nadeen/livedemo","mohy"==e?("en"==t&&(n="https://calendly.com/kotobee/livedemo"),"ar"==t&&(n="https://calendly.com/kotobee/livedemoarabic")):"ziad"==e?("en"==t&&(n="https://calendly.com/ziad-kotobee/live-session"),"ar"==t&&(n="https://calendly.com/ziad-kotobee/live-session-arabic")):"nadeen"==e&&("en"==t&&(n="https://calendly.com/kotobee-nadeen/livedemo"),"es"==t&&(n="https://calendly.com/kotobee-nadeen/livedemospanish"),"ar"==t&&(n="https://calendly.com/kotobee-nadeen/livedemoarabic"));var r=window.location.pathname;i()?o="utm_source=website&utm_medium=popup&utm_campaign="+i():"/"==r||"/fr"==r||"/en"==r||"/es"==r||"/ar"==r?o="utm_source=website&utm_medium=popup&utm_campaign=homepage":-1!=r.indexOf("/case-studies")?o="utm_source=website&utm_medium=popup&utm_campaign=casestudies":-1!=r.indexOf("/pricing")?o="utm_source=website&utm_medium=popup&utm_campaign=pricing":-1!=r.indexOf("/contact")?o="utm_source=website&utm_medium=popup&utm_campaign=contact":-1!=r.indexOf("/services/consultation")?o="utm_source=website&utm_medium=popup&utm_campaign=services_consultation":-1!=r.indexOf("/services/conversion")?o="utm_source=website&utm_medium=popup&utm_campaign=services_conversion":-1!=r.indexOf("/services/design")?o="utm_source=website&utm_medium=popup&utm_campaign=services_design":-1!=r.indexOf("/services/scripting")?o="utm_source=website&utm_medium=popup&utm_campaign=services_scripting":-1!=r.indexOf("/services/publishing")?o="utm_source=website&utm_medium=popup&utm_campaign=services_publishing":r.endsWith("/products/author")||-1!=r.indexOf("/products/author/overview")?o="utm_source=website&utm_medium=popup&utm_campaign=author_overview":-1!=r.indexOf("/products/author/features")?o="utm_source=website&utm_medium=popup&utm_campaign=author_features":-1!=r.indexOf("/products/author/export")?o="utm_source=website&utm_medium=popup&utm_campaign=author_export":-1!=r.indexOf("/products/author/versions")?o="utm_source=website&utm_medium=popup&utm_campaign=author_downloads":r.endsWith("/products/reader")||-1!=r.indexOf("/products/reader/overview")?o="utm_source=website&utm_medium=popup&utm_campaign=reader_overview":-1!=r.indexOf("/products/reader/versions")?o="utm_source=website&utm_medium=popup&utm_campaign=reader_versions":r.endsWith("/products/cloud")||-1!=r.indexOf("/products/cloud/overview")?o="utm_source=website&utm_medium=popup&utm_campaign=cloud_overview":-1!=r.indexOf("/products/cloud/features")?o="utm_source=website&utm_medium=popup&utm_campaign=cloud_features":-1!=r.indexOf("/products/cloud/security")?o="utm_source=website&utm_medium=popup&utm_campaign=cloud_security":r.endsWith("/products/library")||-1!=r.indexOf("/products/library/overview")?o="utm_source=website&utm_medium=popup&utm_campaign=library_overview":-1!=r.indexOf("/products/library/features")?o="utm_source=website&utm_medium=popup&utm_campaign=library_features":-1!=r.indexOf("/products/library/security")?o="utm_source=website&utm_medium=popup&utm_campaign=library_security":-1!=r.indexOf("/contact")?o="utm_source=website&utm_medium=popup&utm_campaign=contact":-1!=r.indexOf("/case-study")?o="utm_source=website&utm_medium=popup&utm_campaign=casestudy":-1!=r.indexOf("/pricing")&&(o="utm_source=website&utm_medium=popup&utm_campaign=pricing");return n+"?"+(o?o+"&":"")+"embed_domain="+window.location.host;function i(){var e;return window.location.search&&(0!=window.location.search.indexOf("?livedemo")&&0!=window.location.search.indexOf("?meeting")||window.location.search.indexOf("&source=")>0&&window.location.search.replace(/&source=(.*)/,(function(){e=arguments[1]}))),e}}(r,t),t)}}function showAnnouncementPopups(){window.addEventListener("scroll",(function(){var e=window.scrollY;!popupOpened&&e>250&&(popupOpened=!0,setTimeout(showPopup,4e3)),hideSubMenu()}))}function showFreshChat(){try{"undefined"!=typeof initiateCall&&window.addEventListener("load",(function(){setTimeout(initiateCall,isMobile()?4e3:2e3)}))}catch(e){}}function renderSubscribeForms(){for(var e=new IntersectionObserver((function(e){for(var t=0;t<e.length;t++)if(e[t].isIntersecting){var n=e[t].target,o=document.createElement("script"),a=n.getAttribute("data-name");o.setAttribute("src","/js/"+a+".js"),o.onload=function(){var e=/.*document\.write\(["']([\s\S]*)["']\);\s*?(var script_tag[\s\S]*)/g,t=window[a].body,o=t.replace(e,"$1");o=(o=(o=(o=o.replace(/\\n/g,"\n")).replace(/\\\//g,"/")).replace(/\\"/g,'"')).replace(/"\);[\S\s]*document.write\(["']/g,""),n.innerHTML=o;var r=document.createElement("script");r.innerHTML=t.replace(e,"$2"),document.body.appendChild(r)},document.body.appendChild(o)}}),{threshold:[0],rootMargin:"0px"}),t=document.getElementsByClassName("kSubscribeForm"),n=0;n<t.length;n++)e.observe(t[n])}function showPopup(){return}function detectOS(){os="win",window.navigator.platform.toLowerCase().indexOf("mac")>=0&&(os="mac"),window.navigator.platform.toLowerCase().indexOf("linux")>=0&&(os="linux")}function setupVueComponents(){"undefined"!=typeof Vue&&(Vue.options.delimiters=["{[","]}"],Vue.component("dropdown",{data:function(){return{}},template:'<div class="inlineBlock"><slot/></div>',mounted:function(){var e=this,t=e.$el,n=t.children[0],o=t.children[1];t.addEventListener("click",(function(a){var r=a.target;if(n.contains(r))e.toggle(),a.stopPropagation();else if(o.contains(r))return e.close(),void a.stopPropagation();for(var i=t.getElementsByTagName("a"),s=0;s<i.length;s++)i[s].getAttribute("href")||i[s].setAttribute("href","");a.preventDefault()})),document.addEventListener("click",(function(n){t.contains(n.target)||e.close()}))},methods:{toggle:function(){var e=this.$el.children[1];e.style.display=e.style.display?null:"block"},close:function(){this.$el.children[1].style.display=null}}}))}function displayTemplates(e){e||(e=0);for(var t=getElementsByAttribute(document.body,"*","ng-include"),n=0;n<t.length;n++){var o=t[n].getAttribute("ng-include").split("'")[1];t[n].innerHTML=document.getElementById(o).innerHTML,t[n].removeAttribute("ng-include")}0==e&&displayTemplates(++e)}function initSSO_SDK(){window.fbAsyncInit=function(){FB.init({appId:"443640894829106",cookie:!0,xfbml:!0,version:"v5.0"}),FB.AppEvents.logPageView()};[{id:"facebook-jssdk",src:"https://connect.facebook.net/en_US/sdk.js"},{id:"google-jssdk",src:"https://accounts.google.com/gsi/client"}].forEach((function(e){var t=document.getElementById(e.id);t||((t=document.createElement("script")).id=e.id,t.src=e.src,document.body.append(t))}))}init();var subMenu,subMenuPosX,banner,sso={renderGoogle:function(e){var t=null;if(window.innerWidth>=850){t="sso-google-container";var n=e.target.getBoundingClientRect(),o=document.getElementById("sso-google-container");o||((o=document.createElement("div")).id=t,o.style.cssText="display:inline-block;position:absolute;",document.body.appendChild(o)),o.style.top=n.bottom+window.pageYOffset+"px",o.style.left=n.left+"px"}addClass(e.target,"disabled"),google.accounts.id.initialize({client_id:"775376548114-foe20rqpkmr63vvikaiujkg0nsam8n1k.apps.googleusercontent.com",prompt_parent_id:t,callback:function(t){var n=t.credential,o=parseJwt(n),a={ssoprovider:"google",ssotoken:n,name:o.name,emailTxt:o.email};register(e,{params:a,useTarget:!0})}}),google.accounts.id.prompt((function(t){removeClass(e.target,"disabled"),document.cookie="g_state=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT"}))},renderGoogleOld:function(e){var t=e.target,n=t.parentElement.getElementsByClassName("ssoWrapper__status")[0],o=t.parentElement;gapi.load("auth2",(function(){gapi.auth2.init({client_id:"775376548114-foe20rqpkmr63vvikaiujkg0nsam8n1k.apps.googleusercontent.com",fetch_basic_profile:!0,scope:"profile"}).signIn().then((function(t){var n=t.getAuthResponse(),o=t.getBasicProfile(),a={ssoprovider:n.idpId,ssoidtoken:n.id_token,ssoaccesstoken:n.access_token,name:o.getName(),emailTxt:o.getEmail()};register(e,{params:a,useTarget:!0})})).catch((function(e){o.classList.contains("majority")&&o.classList.add("specialNotify"),sso.notify("error","Error signing in",n)}))}))},renderFacebook:function(e){var t=e.target,n=t.parentElement.getElementsByClassName("ssoWrapper__status")[0],o=t.parentElement,a={ssoprovider:"",ssotoken:"",name:"",emailTxt:""};function r(){"undefined"!=typeof FB&&void 0!==FB.getLoginStatus&&FB.getLoginStatus((function(t){"connected"===t.status?(a.ssoprovider=t.authResponse.graphDomain,a.ssotoken=t.authResponse.accessToken,FB.api("/me",{fields:"name, email"},(function(t){t.error?i():(a.emailTxt=t.email?t.email:"",a.name=t.name?t.name:"",""!==a.emailTxt?register(e,{params:a,useTarget:!0}):location.replace("register"))}))):i()}))}function i(){"undefined"!=typeof FB&&void 0!==FB.login&&FB.login((function(e){"connected"===e.status?r():(o.classList.contains("majority")&&o.classList.add("specialNotify"),sso.notify("error","Error signing in",n))}),{scope:"public_profile, email"})}r()},notify:function(e,t,n){n&&(n.textContent=t,"success"===e?n.classList.add("success"):"error"===e&&n.classList.add("error"),setTimeout((function(){n.className="ssoWrapper__status",n.parentElement&&n.parentElement.classList.remove("specialNotify")}),3e3))},disableBtn:function(e){e&&(e.classList.add("disable"),e.setAttribute("disabled","disabled"))},enableBtn:function(e){e&&(e.classList.remove("disable"),e.removeAttribute("disabled","disabled"))}};function setupClickEvents(){log("setupClickEvents");for(var e=document.getElementsByClassName("menuBtn"),t=0;t<e.length;t++)hide(getMobileMenuBtn(e[t])),e[t].addEventListener("click",(function(e){toggleVisibility(getMobileMenuBtn(e.currentTarget)),e.preventDefault()}));var n=getElementsByAttribute(document.body,"*","ng-click");for(t=0;t<n.length;t++){(o=n[t].getAttribute("ng-click"))&&(o.indexOf("toggleSubMenu")>=0&&n[t].addEventListener("click",showSubMenu))}for(n=getElementsByAttribute(document.body,"*","v-on:click"),t=0;t<n.length;t++){var o;(o=n[t].getAttribute("v-on:click"))&&(o.indexOf("register('")>=0&&n[t].addEventListener("click",register))}for(n=getElementsByAttribute(document.body,"*","v-on:keyup.enter"),t=0;t<n.length;t++){var a=n[t].getAttribute("v-on:keyup.enter");a&&(a.indexOf("register('")>=0&&n[t].addEventListener("keyup",(function(e){"Enter"===e.key&&register(e)})))}for(n=getElementsByAttribute(document.body,"a","ng-if"),t=0;t<n.length;t++){var r=n[t].getAttribute("ng-if");r&&(r.indexOf("os=='mac'")>=0&&"mac"!=os&&(n[t].style.display="none"),r.indexOf("os=='win'")>=0&&"win"!=os&&(n[t].style.display="none"),r.indexOf("os=='linux'")>=0&&"linux"!=os&&(n[t].style.display="none"))}document.addEventListener("click",(function(e){e.target.classList.contains("ssoWrapper--googleBtn")?sso.renderGoogle(e):e.target.classList.contains("ssoWrapper--facebookBtn")&&sso.renderFacebook(e)}))}function showSubMenu(e){e&&e.preventDefault();var t=e.currentTarget.nextElementSibling;hasClass(t,"show")?(removeClass(t,"show"),currentSubMenu=null):(hideSubMenu(),addClass(t,"show"),currentSubMenu=t,setTimeout((function(){document.addEventListener("click",hideSubMenu)}),100))}function hideSubMenu(e){currentSubMenu&&(removeClass(currentSubMenu,"show"),currentSubMenu=null),document.removeEventListener("click",hideSubMenu)}function getMobileMenuBtn(e){return e.parentNode.parentNode.getElementsByClassName("mobileMenu")[0]}function hideMobileMenus(){for(var e=document.getElementsByClassName("mobileMenu"),t=0;t<e.length;t++)addClass(e[t],"hide")}function register(e,t){var n;t||(t={}),e&&e.preventDefault();var o=(n=t.useTarget?e.target:e.currentTarget).getAttribute("ng-click");o||(o=n.getAttribute("ng-enter"));var a=n.parentNode;if(!n.disabled&&!hasClass(n,"disabled")&&!hasClass(a,"registering")){for(;"form"!=a.nodeName.toLowerCase();)a=a.parentNode;if(a.getElementsByClassName("ssoprovider")[0]="",a.getElementsByClassName("ssotoken")[0]="",a.getElementsByClassName("name")[0]="",t.useTarget)for(var r in t.params){var i=a.getElementsByClassName(r)[0];i&&(i.value=t.params[r])}var s=a.getElementsByClassName("emailTxt"),c=s[0].value;if(c){s[0].readOnly=!0;var l=a.getElementsByClassName("registerBtn")[0];l&&(l.disabled=!0,addClass(l,"disabled")),addClass(a,"registering");for(var u=c.indexOf("@")>0&&c.indexOf(".")>0,d=getUrlVars(),m=a.getAttribute("action"),g="",p=0;p<d.length;p++){var f=d[p],v=d[f];0!=f.indexOf("http://")&&0!=f.indexOf("https://")&&(g+=(g?"&":"?")+f+(v?"="+v:""))}if(g&&a.setAttribute("action",m+g),localStorage.kotobeeRef){var b=a.getElementsByClassName("ref");b.length&&b[0].setAttribute("value",localStorage.kotobeeRef)}var h=getAffiliateCode();if(h){var y=a.getElementsByClassName("aff");y.length&&y[0].setAttribute("value",h)}if(u){w=1e3;try{ga("send","event","Register","submit","Success")}catch(e){}try{fbq("track","CompleteRegistration")}catch(e){}}var w=200;setTimeout((function(){a.submit()}),w)}else s[0].focus()}}function handleNewsletter(){for(var e=document.getElementsByClassName("newsletterForm"),t=0;t<e.length;t++)e[t].addEventListener("submit",n);function n(e){e.preventDefault();var t=e.currentTarget,n=(t.getElementsByClassName("submitBtn")[0],t.getElementsByClassName("emailInput")[0]),o=t.getAttribute("data-list"),a=n.value;if(a&&function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(a)){t.classList.add("subscribing");var r={};r.email=a,r.list=o,sendRawRequest("/newsletter/subscribe",r,{},(function(e){(t.classList.remove("subscribing"),e&&e.error)?t.parentNode.getElementsByClassName("subscribeError")[0].style.display="block":t.parentNode.getElementsByClassName("subscribeSuccess")[0].style.display="block"}))}else n.classList.add("error")}}function kTrack(e,t){log("kbTrack",e,t),"downloadAuthorWin"==e?(gtag("event","author",{event_category:"Download",event_label:"Win"}),fbq("track","AddToCart")):"downloadAuthorMac"==e?(gtag("event","author",{event_category:"Download",event_label:"Mac"}),fbq("track","AddToCart")):"downloadAuthorDeb"==e?(gtag("event","author",{event_category:"Download",event_label:"Deb"}),fbq("track","AddToCart")):"downloadReaderWin"==e?(gtag("event","reader",{event_category:"Download",event_label:"Win"}),fbq("track","AddToCart")):"downloadReaderMac"==e?(gtag("event","reader",{event_category:"Download",event_label:"Mac"}),fbq("track","AddToCart")):"sale"==e?(gtag("event","sale",{event_category:"New Order",event_label:"New"}),fbq("track","Purchase",{value:"10.00",currency:"USD"})):"registeredConsultation"==e?fbq("track","CompleteRegistration"):"subscribedToContest"==e?(gtag("event","submit",{event_category:"Subscribe to Contest",event_label:"Success"}),fbq("track","Lead")):"liveDemo"==e?(gtag("event","send",{event_category:"Live Demo",event_label:"Success"}),fbq("track","Lead")):"inquiry"==e?(gtag("event","send",{event_category:"Inquiry",event_label:"Success"}),fbq("track","Lead")):"courseSubscribed"==e?fbq("track","SubmitApplication"):"invited"==e?(gtag("event","submit",{event_category:"Invite",event_label:"Success"}),fbq("track","SendInvitations")):"registered"==e?(gtag("event","submit",{event_category:t||"Register",event_label:"Success"}),fbq("track","CompleteRegistration")):"webinarSubscribe"==e&&(gtag("event","submit",{event_category:"Subscribe to Webinar",event_label:"Success"}),fbq("track","Lead"))}function parseJwt(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(window.atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)}function sendRawRequest(e,t,n,o){log("sendRawRequest: "+e,1),log(t,1),log(arguments,1),log(n,1),n||(n={}),n.trial||(n.trial=0),log("trial: "+n.trial,1),n.maxTrials||(n.maxTrials=3),n.responseType||(n.responseType="json"),log("done reading all",1),log(n,1),log("EITHER PROGR:",1),log(n.showProgress,1),log(n.showUploadProgress,1);var a={};if(n.paramArray)a=n.paramArray;else for(var r in t){var i=t[r];if((!n.dataVar||r!=n.dataVar||!n.sendInChunks)&&null!=i)if(i instanceof File)a[r]=i;else if("object"!=typeof i){if("string"==typeof i)try{i=p(i)}catch(e){log("CATCH"),log(e)}"boolean"==typeof i&&(i=i?1:0),a[r]=i}else if(Array.isArray(i)&&n.postArrays&&n.postArrays.includes(r))for(var s=0;s<i.length;s++)for(var c in i[s])if(i[s][c]){var l=r+"["+s+"]["+c+"]";a[l]=i[s][c]}}var u=new XMLHttpRequest;u.open(n.method?n.method:"POST",e,!0),"GET"!=n.method&&u.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=utf-8"),u.setRequestHeader("Content-Encoding","gzip"),n.progressCb&&(u.onprogress=f,u.upload.onprogress=f),n.responseType&&(u.responseType=n.responseType);var d=null;function m(){log("handleError"),log("errorShown: "+d),d||(d=!0,o&&o({error:"networkError"}),d=!0)}if(u.addEventListener("error",(function(e){log("post error!"),m()}),!1),u.upload.addEventListener("error",(function(e){log("upload post error!"),log(e),m()}),!1),u.onreadystatechange=function(e){4==u.readyState&&(200==u.status?(log("received response",1),log(u.response+"",!0),log(u,!0),log(o),o&&o(u.response)):u.onerror())},u.onerror=function(r){if(log("post onerror!"),log("errorShown: "+d),!d){if(d=!0,!(n.trial>=n.maxTrials-1))return n.paramArray=a,n.trial++,log("sendRawRequest:"),log(sendRawRequest),sendRawRequest(e,t,n,o);setTimeout((function(){o&&o({error:"d_connectionTimedOut"})}))}},"GET"!=n.method){var g="";for(var r in a)g+=(g?"&":"")+r+"="+a[r];u.send(g),g=null}else u.send();return u;function p(e){e=("."+e).substr(1),log("detected base64",1);var t=0,n="";for(log("will loop for base64",1);;)if(log("index: "+t,1),n+=encodeURIComponent(e.substr(t,1e4)),(t+=1e4)>=e.length){log("break! "+t+"  "+e.length,1);break}return n}function f(e){log("updateProgress "+e.loaded/e.total,1),log(e);var t=0;if(e.lengthComputable)t=e.loaded/e.total;else{if(!e.target.getResponseHeader("x-decompressed-content-length"))return;t=e.loaded/Number(e.target.getResponseHeader("x-decompressed-content-length"))}n.progressCb(t,e)}}function initHotjar(){var e={hjid:3530595,hjsv:6};window.addEventListener("load",(function(){setTimeout((function(){var t,n,o,a;t=window,n=document,t.hj=t.hj||function(){(t.hj.q=t.hj.q||[]).push(arguments)},t._hjSettings=e,o=n.getElementsByTagName("head")[0],(a=n.createElement("script")).async=1,a.src="https://static.hotjar.com/c/hotjar-"+t._hjSettings.hjid+".js?sv="+t._hjSettings.hjsv,o.appendChild(a)}),2e3)}))}function initTawk(){try{if("undefined"!=typeof noChat&&noChat)return}catch(e){}window.addEventListener("load",(function(){setTimeout((function(){var e,t;new Date;e=document.createElement("script"),t=document.getElementsByTagName("script")[0],e.async=!0,e.src="https://embed.tawk.to/652d035ceb150b3fb9a1c308/1hcrta8pf",e.charset="UTF-8",e.setAttribute("crossorigin","*"),t.parentNode.insertBefore(e,t)}),isMobile()?4e3:2e3)}))}function openChat(){openTawk()}function openTawk(){"undefined"!=typeof Tawk_API&&Tawk_API.maximize&&Tawk_API.maximize()}function scrollCarouselFun(){if(document.querySelector(".scrollCarousel")){let e=16,t=document.querySelector(".scrollCarousel"),n=document.querySelector(".carouselContent"),o=document.querySelector(".nextBtn"),a=document.querySelector(".prevBtn"),r=getWebsiteLang();o.addEventListener("click",s=>{"ar"===r?(t.scrollBy(-(i+e),0),n.scrollWidth-i-e<=-t.scrollLeft+i&&(o.disabled=!0)):(t.scrollBy(i+e,0),n.scrollWidth-i-e<=t.scrollLeft+i&&(o.disabled=!0)),0!==t.scrollWidth&&a.removeAttribute("disabled")}),a.addEventListener("click",s=>{"ar"===r?(t.scrollBy(i+e,0),t.scrollLeft-i<=0&&(o.disabled=!0),-t.scrollLeft-i-e<=0&&(a.disabled=!0)):(t.scrollBy(-(i+e),0),t.scrollLeft-i-e<=0&&(a.disabled=!0)),!n.scrollWidth-i-e<=t.scrollLeft+i&&o.removeAttribute("disabled")});let i=t.offsetWidth;window.addEventListener("resize",e=>i=t.offsetWidth)}}banner=document.getElementsByClassName("banner")[0];try{subMenuPosX=(subMenu=document.getElementsByClassName("subMenu")[0]).getBoundingClientRect().top,window.addEventListener("scroll",(function(e){scrolled()}))}catch(e){}function scrolled(){banner.getBoundingClientRect().bottom<=0?subMenu.classList.add("fixed"):subMenu.classList.remove("fixed")}